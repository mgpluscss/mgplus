!function(t){function e(t,e){console.log(`mgplus - registering DOM plugins (autorun=${t?"true":"false"})`,e),(e||[]).map(function(t){switch(t){case"dropdowns":!function(){let t=null;function e(){t&&(t.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.classList.remove("opened"),t=!1)}document.querySelectorAll("[data-toggle~=dropdown]").forEach(function(a){a.setAttribute("aria-haspopup","true"),a.setAttribute("aria-expanded","false");let i=a.nextElementSibling;i.setAttribute("aria-hidden","true"),a.onclick=function(n){if(n.preventDefault(),n.stopPropagation(),"true"===a.getAttribute("aria-expanded")){a.setAttribute("aria-expanded","false"),i.setAttribute("aria-hidden","true"),a.classList.remove("opened"),t=null;return}e.call(void 0),a.setAttribute("aria-expanded","true"),i.setAttribute("aria-hidden","false"),a.classList.add("opened"),i.children[0].focus(),t=a}}),window.onclick=function(t){let a=t.target;!(!a.classList||a.classList.contains("mg-dropdown"))&&(a.classList.contains("mg-dropdown--content")||e.call(void 0))}}();break;case"modals":document.querySelectorAll("[data-toggle~=modal]").forEach(function(t){var e=document.querySelector("#"+t.getAttribute("data-target")),a=e.querySelector("[data-action=close]");t.addEventListener("click",function(t){e.classList.add("mg-show")}),a.addEventListener("click",function(t){t.stopPropagation(),e.classList.remove("mg-show")})});break;case"navs":document.querySelectorAll("[data-toggle~=nav]").forEach(function(t){let e=t.getElementsByTagName("li");for(let t=0;t<e.length;t++){let a=e[t];(a.classList.contains("active")||"true"===a.getAttribute("data-active"))&&(a.setAttribute("data-active","true"),a.classList.add("active"))}t.addEventListener("click",function(e){let a=e.target;if(console.log(e.target.parentNode),"LI"==e.target.parentNode.tagName&&(a=e.target.parentNode),"true"!==a.getAttribute("data-active")){let e=t.getElementsByTagName("li");for(let t=0;t<e.length;t++){let a=e[t];a.classList.remove("active"),a.setAttribute("data-active","false")}a.classList.add("active"),a.setAttribute("data-active","true")}})});break;case"tabs":document.querySelectorAll("[data-toggle~=tabs]").forEach(function(t){let e=t.getElementsByClassName("mg-tabs--item");for(let t=0;t<e.length;t++){let a=e[t];if(a.classList.contains("active")||"true"===a.getAttribute("data-active")){a.setAttribute("data-active","true"),a.classList.add("active");let t=a.getAttribute("data-target");if(t){let e=document.getElementById(t);e&&(e.style.display="block")}}}t.addEventListener("click",function(e){let a=e.target;if(e.target.parentNode.classList.contains("mg-tabs--item")&&(a=e.target.parentNode,e.stopPropagation(),e.preventDefault(),"true"!==a.getAttribute("data-active"))){let e=t.getElementsByClassName("mg-tabs--item");for(let t=0;t<e.length;t++){let a=e[t];a.classList.remove("active"),a.setAttribute("data-active","false");let i=a.getAttribute("data-target");if(i){let t=document.getElementById(i);t&&(t.style.display="none")}}a.classList.add("active"),a.setAttribute("data-active","true");let i=a.getAttribute("data-target");if(i){let t=document.getElementById(i);t&&(t.style.display="block")}}})});break;case"collapses":document.querySelectorAll("[data-toggle~=collapse]").forEach(function(t){let e=t.getAttribute("data-target");t.setAttribute("aria-haspopup","true"),t.setAttribute("aria-expanded","false"),(e?document.getElementById(e):t.nextElementSibling).setAttribute("aria-hidden","true"),t.onclick=function(e){if(e.preventDefault(),e.stopPropagation(),"true"===t.getAttribute("aria-expanded")){t.setAttribute("aria-expanded","false"),t.setAttribute("aria-hidden","true"),t.classList.remove("opened");return}t.setAttribute("aria-expanded","true"),t.setAttribute("aria-hidden","false"),t.classList.add("opened")}});break;case"darkmode":!function(){function t(t){if(t&&"auto"!=t&&"system"!=t)document.documentElement.setAttribute("data-theme",t),console.log("mgplus - theme applied (forced):",t);else{let t=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";document.documentElement.setAttribute("data-theme",t),console.log("mgplus - theme applied (system):",t)}}t(document.documentElement.getAttribute("data-theme")||"light"),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{let e=t.matches?"dark":"light";document.documentElement.setAttribute("data-theme",e),console.log("mgplus - theme changed:",e)}),document.querySelectorAll("[data-toggle~=theme]").forEach(function(e){let a=e.getAttribute("data-value");e.addEventListener("click",function(){t(a)})})}();break;default:console.log(`mgplus - plugin not found: ${t}`);return}console.log(`mgplus - registered plugin: ${t}`)})}t.mgplus={registerPlugins:e},t.addEventListener("DOMContentLoaded",()=>{var t,a,i;let n=(t="register_plugins",a=function(){let t=document.getElementsByTagName("script");for(let e=0;e<t.length;e++){let a=t[e]&&t[e].src;if(a.indexOf("mgplus-dom.js")>0)return a}return null}(),null==(i=RegExp("[\\?&]"+(t=t.replace(/[[]/,"\\[").replace(/[]]/,"\\]"))+"=([^&#]*)").exec(a))?"":i[1]);e(!0,n?n.split(","):[])})}(window);